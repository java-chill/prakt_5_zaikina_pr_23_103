6. Очереди и асинхронность
Асинхронная обработка задач и использование очередей сообщений — ключевые подходы для повышения масштабируемости, отказоустойчивости и производительности распределённых систем. Они позволяют разделять процессы во времени и пространстве, обеспечивая гибкость и устойчивость к пикам нагрузки.
6.1. RabbitMQ
Определение: RabbitMQ — ПО, действующее как посредник для передачи данных между различными приложениями и сервисами, реализующий протокол AMQP (Advanced Message Queuing Protocol).
Назначение: Обеспечивает надёжную доставку сообщений между компонентами системы. Поддерживает маршрутизацию, приоритеты, подтверждение доставки и гибкую настройку очередей.
Особенности:
Поддержка различных паттернов обмена (direct, topic, fanout, headers).
Fanout — «Разошлите всем!», Direct — «Только тем, у кого точное имя», Topic — «Тем, у кого подходит шаблон», Headers — «По набору меток (заголовков)».
Гарантированная доставка (с подтверждением).
Хорошо подходит для систем с умеренной нагрузкой и требованием надёжности.
Пример использования: Отправка email-уведомлений, обработка заказов, интеграция между микросервисами.
6.2. Apache Kafka
Определение: Kafka — это распределённая потоковая платформа, ориентированная на высокую пропускную способность и долговременное хранение потоков событий.
Назначение: Используется для построения реального времени потоковой обработки данных, логгирования, аналитики и интеграции систем.
Особенности:
Данные хранятся в топиках (topics), разделённых на партиции (partitions).
Поддерживает масштабирование и отказоустойчивость.
Читатели (consumers) могут читать данные независимо и в своём темпе.
Не удаляет сообщения сразу после чтения (в отличие от RabbitMQ).
Пример использования: Логирование событий, аналитика в реальном времени, event-driven архитектура.
Event-driven архитектура — это способ построения системы, в котором компоненты реагируют на события, а не вызывают друг друга напрямую.
